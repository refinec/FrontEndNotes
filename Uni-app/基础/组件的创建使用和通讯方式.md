## ç›®å½•ç»“æ„

```
--components
	--test.vue
--pages
	--index
		--index.vue
```

```vue
# test.vue
<template>
	<view>
		æˆ‘æ˜¯testç»„ä»¶
	</view>
</template>

<script>
	export default {
		name:"test",
		data() {
			return {};
		}
	}
</script>

<style>

</style>
```

åœ¨`index.vue`ä¸­å¼•å…¥`test.vue`ç»„ä»¶

```vue
# index.vue
<template>
	<test></test>
</template>

<script>
  // å¯¼å…¥testç»„ä»¶
	import test from "../../components/test.vue";
	export default {
		data() {
			return {}
		},
		components: {
			test
		}
	}
</script>
<style>
</style>

```

## ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ

`uni-app` ç»„ä»¶æ”¯æŒçš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸vueæ ‡å‡†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚è¿™é‡Œæ²¡æœ‰é¡µé¢çº§çš„onLoadç­‰ç”Ÿå‘½å‘¨æœŸï¼š

| å‡½æ•°å          | è¯´æ˜                                                         | å¹³å°å·®å¼‚è¯´æ˜ | æœ€ä½ç‰ˆæœ¬ |
| :-------------- | :----------------------------------------------------------- | :----------- | :------- |
| `beforeCreate`  | åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹å‰è¢«è°ƒç”¨ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#beforeCreate) |              |          |
| `created`       | åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#created) |              |          |
| `beforeMount`   | åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#beforeMount) |              |          |
| `mounted`       | æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#mounted) æ³¨æ„ï¼šæ­¤å¤„å¹¶ä¸èƒ½ç¡®å®šå­ç»„ä»¶è¢«å…¨éƒ¨æŒ‚è½½ï¼Œå¦‚æœéœ€è¦å­ç»„ä»¶å®Œå…¨æŒ‚è½½ä¹‹ååœ¨æ‰§è¡Œæ“ä½œå¯ä»¥ä½¿ç”¨`$nextTick`[Vueå®˜æ–¹æ–‡æ¡£](https://v2.cn.vuejs.org/v2/api/#vm-nextTick) |              |          |
| `beforeUpdate`  | æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#beforeUpdate) | ä»…H5å¹³å°æ”¯æŒ |          |
| `updated`       | ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#updated) | ä»…H5å¹³å°æ”¯æŒ |          |
| `beforeDestroy` | å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#beforeDestroy) |              |          |
| `destroyed`     | Vue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚[è¯¦è§](https://v2.cn.vuejs.org/v2/api/#destroyed) |              |          |

### ç»„ä»¶ä¹‹é—´çš„é€šè®¯æ–¹å¼

> å‚è€ƒvue2çš„ç»„ä»¶é€šè®¯æ–¹å¼

1. `çˆ¶ä¼ å­ï¼Œå­ä¼ çˆ¶`

   ```vue
   # çˆ¶ç»„ä»¶
   <template>
   	<test :title="123" @onMsg="getMsg"></test>
   </template>
   <script>
   	export default {
       methods: {
         getMsg(txt){
          	console.log(txt)
         }
       }
     }
   </script>
   ```

   ```vue
   # å­ç»„ä»¶
   <template>
   	<view>
       {{title}}
       <button @click="send">
         å‘é€
       </button>
     </view>
   </template>
   <script>
   	export default {
       props: ["title"],
       methods: {
         send(){
           this.$emit("onMsg", "å“ˆå“ˆå“ˆ");
         }
       }
     }
   </script>
   ```

2. `å…„å¼Ÿç»„ä»¶é€šè®¯`

   > ä½¿ç”¨`uni.$emit`å’Œ`uni.$on`api

   è¯¦è§ğŸ‘‰ğŸ»ï¼š[æ–‡æ¡£](https://uniapp.dcloud.net.cn/api/window/communication.html)