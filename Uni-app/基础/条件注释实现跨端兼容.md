> æ¡ä»¶ç¼–è¯‘æ˜¯ç”¨ç‰¹æ®Šçš„æ³¨é‡Šä½œä¸ºæ ‡è®°ï¼Œåœ¨ç¼–è¯‘æ—¶æ ¹æ®è¿™äº›ç‰¹æ®Šçš„æ³¨é‡Šï¼Œå°†æ³¨é‡Šé‡Œé¢çš„ä»£ç ç¼–è¯‘åˆ°ä¸åŒå¹³å°ã€‚
>
> è¯¦è§æ–‡æ¡£ðŸ‘‰ðŸ»ï¼š[å®žçŽ°æ¡ä»¶ç¼–è¯‘å¤„ç†å¤šç«¯å·®å¼‚](https://uniapp.dcloud.net.cn/tutorial/platform.html)

**ä½¿ç”¨æ–¹æ³•ï¼š**

ç¼–è¯‘è¯­æ³•åœ¨`template`ã€`script`ã€`style`ä¸­éƒ½å¯ä½¿ç”¨

```js
// #ifdef  %PLATFORM%
å¹³å°ç‰¹æœ‰çš„API
// #endif
```

ä»¥ `#ifdef` æˆ– `#ifndef` åŠ  `%PLATFORM%`(å¹³å°æ ‡è¯†) å¼€å¤´ï¼Œä»¥ `#endif` ç»“å°¾ã€‚

- `#ifdef`ï¼šif defined ä»…åœ¨æŸå¹³å°å­˜åœ¨

- `#ifndef`ï¼šif not defined é™¤äº†æŸå¹³å°å‡å­˜åœ¨

- `%PLATFORM%`ï¼šå¹³å°åç§°ã€‚

  å¯å–å€¼è¯¦è§ðŸ‘‰ðŸ»[å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/tutorial/platform.html#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95)

**ç¤ºä¾‹ï¼š**

1. å¦‚ä¸‹ä»£ç ä»…åœ¨ App ä¸‹å‡ºçŽ°:

   ```js
   //#ifdef APP-PLUS
   plus.push.addEventListener('click', function (msg) {
     var payload = null;
     var action = '';
     if (msg.payload) {
       if (typeof msg.payload === 'string') {
         payload = JS0N.parse(msg.payload);
       }
       action = payload.action;
       if (action === 'open') {
         plus.webview.open(payload.url);
       }
     }
   });
   //#endif
   ```

2. å¦‚ä¸‹ä»£ç ä¸ä¼šåœ¨ H5 å¹³å°ä¸Šå‡ºçŽ°ï¼š

   ```js
   //#ifndef H5
   uni.scanCode({
     success: (res) => {
       console.log(res.result);
     }
   });
   // #endif
   ```

3. å¦‚ä¸‹ä»£ç ä¼šåœ¨ App å’Œ H5 å¹³å°ä¸Šå‡ºçŽ°ï¼š

   ```js
   //#ifdef APP-PLUS || H5
   uni.chooseVideo({
     success: (res) => {
       console.log(res.result);
     }
   });
   // #endif
   ```

   





